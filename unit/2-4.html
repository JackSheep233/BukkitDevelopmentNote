<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>命令执行器 | Bukkit Development Note</title>
    <meta name="description" content="A guide to develop Minecraft Server plugins based on Bukkit.">
    <meta name="generator" content="VuePress 1.4.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/BukkitDevelopmentNote/assets/css/0.styles.306dc64a.css" as="style"><link rel="preload" href="/BukkitDevelopmentNote/assets/js/app.2634dd99.js" as="script"><link rel="preload" href="/BukkitDevelopmentNote/assets/js/2.cc6e75aa.js" as="script"><link rel="preload" href="/BukkitDevelopmentNote/assets/js/17.ece6e639.js" as="script"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/10.e1cfcf7a.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/11.44efa5f5.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/12.3917c9a1.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/13.848a50a7.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/14.d3d0e1c2.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/15.3d1313bf.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/16.4dd55a1e.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/18.ac97681d.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/19.396f060b.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/20.90cd3f0c.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/21.f6b39766.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/22.938c6544.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/23.f53b8e95.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/24.c4052a83.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/25.f7321946.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/26.548249ca.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/27.e2b64422.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/28.ed2628f6.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/29.1c742d23.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/3.c1f93749.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/30.04dcb996.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/31.b2bccbe9.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/32.6ab03692.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/33.222886c9.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/34.fe917ab1.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/35.c3502896.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/36.62f3d555.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/37.39042c08.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/38.d83a6a0c.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/4.2f54bf03.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/5.ec88f9e9.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/6.8d881c35.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/7.4444e5b6.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/8.4b9b39e0.js"><link rel="prefetch" href="/BukkitDevelopmentNote/assets/js/9.c2d8b702.js">
    <link rel="stylesheet" href="/BukkitDevelopmentNote/assets/css/0.styles.306dc64a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BukkitDevelopmentNote/" class="home-link router-link-active"><!----> <span class="site-name">Bukkit Development Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BukkitDevelopmentNote/home.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNote/contribute.html" class="nav-link">
  贡献
</a></div><div class="nav-item"><a href="https://alpha.tdiant.net/donate.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  赞助
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/tdiant/BukkitDevelopmentNote" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BukkitDevelopmentNote/home.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/BukkitDevelopmentNote/contribute.html" class="nav-link">
  贡献
</a></div><div class="nav-item"><a href="https://alpha.tdiant.net/donate.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  赞助
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/tdiant/BukkitDevelopmentNote" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/BukkitDevelopmentNote/home.html" class="sidebar-link">欢迎</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>第一部分: 基本概念</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNote/unit/1-1.html" class="sidebar-link">写在前面</a></li><li><a href="/BukkitDevelopmentNote/unit/1-2.html" class="sidebar-link">MC的服务端介绍</a></li><li><a href="/BukkitDevelopmentNote/unit/1-3.html" class="sidebar-link">代码中的MC世界</a></li><li><a href="/BukkitDevelopmentNote/unit/1-4.html" class="sidebar-link">检索需要的信息</a></li><li><a href="/BukkitDevelopmentNote/unit/1-5.html" class="sidebar-link">服务端与客户端</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>第二部分: 基础内容</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNote/unit/2-1.html" class="sidebar-link">最简单的插件</a></li><li><a href="/BukkitDevelopmentNote/unit/2-2.html" class="sidebar-link">事件的监听</a></li><li><a href="/BukkitDevelopmentNote/unit/2-3.html" class="sidebar-link">配置API</a></li><li><a href="/BukkitDevelopmentNote/unit/2-4.html" class="active sidebar-link">命令执行器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNote/unit/2-4.html#认识命令机制" class="sidebar-link">认识命令机制</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNote/unit/2-4.html#定义新命令" class="sidebar-link">定义新命令</a></li><li class="sidebar-sub-header"><a href="/BukkitDevelopmentNote/unit/2-4.html#oncommand" class="sidebar-link">onCommand</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>第三部分: 进阶功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNote/unit/3-2.html" class="sidebar-link">自定义事件</a></li><li><a href="/BukkitDevelopmentNote/unit/3-3.html" class="sidebar-link">深入plugin.yml</a></li><li><a href="/BukkitDevelopmentNote/unit/3-4.html" class="sidebar-link">配置API的序列化和遍历</a></li><li><a href="/BukkitDevelopmentNote/unit/3-5.html" class="sidebar-link">多线程多任务框架</a></li><li><a href="/BukkitDevelopmentNote/unit/3-6.html" class="sidebar-link">自定义合成表</a></li><li><a href="/BukkitDevelopmentNote/unit/3-7.html" class="sidebar-link">粒子效果和音效播放</a></li><li><a href="/BukkitDevelopmentNote/unit/3-8.html" class="sidebar-link">世界生成器</a></li><li><a href="/BukkitDevelopmentNote/unit/3-9.html" class="sidebar-link">Title、Bar与计分板显示</a></li><li><a href="/BukkitDevelopmentNote/unit/3-10.html" class="sidebar-link">经验和成就</a></li><li><a href="/BukkitDevelopmentNote/unit/3-11.html" class="sidebar-link">插件系统基本玩法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>第四部分: 常用依赖</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNote/unit/4-1.html" class="sidebar-link">Vault</a></li><li><a href="/BukkitDevelopmentNote/unit/4-2.html" class="sidebar-link">ProtocolLib</a></li><li><a href="/BukkitDevelopmentNote/unit/4-3.html" class="sidebar-link">Bungeecord</a></li><li><a href="/BukkitDevelopmentNote/unit/4-4.html" class="sidebar-link">PlaceholderAPI</a></li><li><a href="/BukkitDevelopmentNote/unit/4-5.html" class="sidebar-link">VexView</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>第五部分: 底层部分</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BukkitDevelopmentNote/unit/5-1.html" class="sidebar-link">认识NMS与OBC</a></li><li><a href="/BukkitDevelopmentNote/unit/5-2.html" class="sidebar-link">自定义发包</a></li><li><a href="/BukkitDevelopmentNote/unit/5-3.html" class="sidebar-link">NBT数据操作</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="命令执行器"><a href="#命令执行器" class="header-anchor">#</a> 命令执行器</h1> <h2 id="认识命令机制"><a href="#认识命令机制" class="header-anchor">#</a> 认识命令机制</h2> <p>MC中的命令是一个字符串, 用来实现游戏内高级功能.</p> <p>在MC客户端中, 玩家将在聊天框内输入命令.<br> <strong>当且仅当在“聊天”内, 命令与普通的聊天内容的区别在于其内容的第一个字符是一个斜杠<code>/</code></strong>.</p> <p>该字符串中的空格表示一个分隔, 开头的一节为命令的名称.<br>
除去命令的名称, 剩下的部分从空格处断开可以分成一个数组.</p> <p>例如, <code>a b c</code>是一个命令, 其命令名称为<code>a</code>, 其参数可用一个数组<code>args</code>表示为:</p> <div class="language- extra-class"><pre class="language-text"><code>args[0]: &quot;b&quot;
args[1]: &quot;c&quot;
</code></pre></div><h2 id="定义新命令"><a href="#定义新命令" class="header-anchor">#</a> 定义新命令</h2> <p>如果我们需要定义一个新的命令, 首先我们需要在<code>plugin.yml</code>文件中增加相关信息:</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> HelloWorld
<span class="token key atrule">main</span><span class="token punctuation">:</span> tdiant.helloworld.HelloWorld
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token key atrule">author</span><span class="token punctuation">:</span> tdiant
<span class="token key atrule">commands</span><span class="token punctuation">:</span>
  <span class="token key atrule">rua</span><span class="token punctuation">:</span>
    <span class="token key atrule">description</span><span class="token punctuation">:</span> RUA<span class="token tag">!RUA!RUA!</span>
</code></pre></div><p>在<code>plugin.yml</code>文件里, 我们增加了<code>commands.rua</code>键, 这就可以代表注册了一个<code>rua</code>命令. 我们给他增加了一个<code>description</code>子键表示对该命令的描述, 描述信息会出现在<code>/help</code>菜单里.</p> <p>请注意, 请尽可能不要在plugin.yml文件里出现中文! 这可能会出现问题!</p> <p><code>commands.命令名</code>键可以有很多个子键, 这些都不是必须添加的, 甚至它可以没有子键. 具体子键如下:</p> <table><thead><tr><th>键</th> <th>用途</th> <th>例子</th></tr></thead> <tbody><tr><td>description</td> <td>描述作用. 将会在/help中显示</td> <td>description: &quot;I am a cute command.&quot;</td></tr> <tr><td>aliases</td> <td>设置别名. 比如登录插件login命令也可以用/l命令代替.</td> <td>aliases: [l, log]</td></tr> <tr><td>permission</td> <td>设置命令需要的权限</td> <td>permission: rua.use</td></tr> <tr><td>permission-message</td> <td>没权限时的提示语</td> <td>permission-message: &quot;YOU HAVE NO PERMISSION!&quot;</td></tr> <tr><td>usage</td> <td>命令的用法.</td> <td>usage: <code>/&lt;command&gt; YOUR_NAME</code></td></tr></tbody></table> <p>注意:</p> <ol><li><code>&lt;command&gt;</code>在usage里可以代表你的命令名.</li> <li>你的命令设置了aliases后命令名不能按照aliases称呼. 比如你给login命令设置了<code>aliases: [l]</code>你不能也叫他<code>l</code>命令, 它还是<code>login</code>命令.</li> <li>不推荐使用<code>permission</code>和<code>permission-message</code>, 因为plugin.yml里出现中文爱出问题. 事实上, 我们可以用<code>Player.hasPermission</code>方法在监听命令的时候自己亲自判断有没有权限.</li> <li>如果一个名称被别的插件注册了或设置为了某个命令的别称, 会出现冲突问题, 尽量避免.</li> <li>别弄中文的命令, 如果想搞, 去试试监听<code>PlayerCommandPreprocessEvent</code>.</li></ol> <h2 id="oncommand"><a href="#oncommand" class="header-anchor">#</a> onCommand</h2> <p>我们可以类似<code>Listener</code>, 做一个<code>CommandExecutor</code>监听命令.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoCommand</span> <span class="token keyword">implements</span> <span class="token class-name">CommandExecutor</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onCommand</span><span class="token punctuation">(</span><span class="token class-name">CommandSender</span> sender<span class="token punctuation">,</span> <span class="token class-name">Command</span> cmd<span class="token punctuation">,</span> <span class="token class-name">String</span> label<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		sender<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;HI!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//true代表命令执行没问题, 返回false的话Bukkit会给命令输入方一个错误提示语</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后也同理, 在onEnable里加入注册:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Bukkit</span><span class="token punctuation">.</span><span class="token function">getPluginCommand</span><span class="token punctuation">(</span><span class="token string">&quot;rua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setExecutor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DemoCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>但是如果onCommand方法放在了主类里, 那就不需要注册了.</p> <p><code>onCommand</code>方法有四个参数, 分别为:</p> <ol><li>CommandSender sender —— 命令输入方, 实际传入的有可能是Console, 有可能是Player或者其他情况.</li> <li>Command cmd —— 所执行的命令对象.</li> <li>String[] args —— 参数. 例如/rua a b的话, args[0]为&quot;a&quot;, args[1]为&quot;b&quot;.</li></ol> <blockquote><p>警告: 字符串的比较, 请不要使用<code>==</code>, 因为其比对的是内存地址, 可能造成一些没有预料到的结果! 建议使用<code>equals</code>方法, 例如<code>args[0].equals(string)</code></p></blockquote> <p>如果你的命令希望只被玩家使用, 通常这样判断:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>sender <span class="token keyword">instanceof</span> <span class="token class-name">Player</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	sender<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;你不是玩家！不能用！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//不返回true, Bukkit还会显示出来一串错误提示, 你可以试试看.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>判断完为玩家后, 若希望判断其有没有权限执行命令, 可以:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Player</span> p<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Player</span><span class="token punctuation">)</span>sender<span class="token punctuation">;</span> <span class="token comment">//sender可以直接强转为Player</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token string">&quot;rua.use&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">&quot;你有权限！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>玩家将会在聊天区域内看到输出:</p> <div class="language- extra-class"><pre class="language-text"><code>你有权限！
</code></pre></div><p>Bukkit内可以用ChatColor表示颜色前缀, 例如:</p> <div class="language-java extra-class"><pre class="language-java"><code>p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;你输错了！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输出红色的 &quot;你输错了&quot;</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;还可以&quot;</span><span class="token operator">+</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>YELLOW<span class="token operator">+</span><span class="token string">&quot;两种颜色混着用！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>BOLD<span class="token operator">+</span><span class="token string">&quot;猜猜我会显示成什么效果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token operator">+</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>BOLD<span class="token operator">+</span><span class="token string">&quot;猜猜我会显示成什么效果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>BOLD<span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token operator">+</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;猜猜我会显示成什么效果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;&amp;4哈哈&quot;</span><span class="token punctuation">;</span> <span class="token comment">//假如你从配置文件里读出来了一串 &quot;&amp;4哈哈&quot;.</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这样会显示出 &quot;&amp;4哈哈&quot;, 不带颜色</span>
p<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span><span class="token function">translateAlternateColorCodes</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这样就带颜色了</span>
</code></pre></div><p>还有其他的好玩的东西, 把下面的代码放在onEnable方法里试试看:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;猜猜我是什么效果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">ChatColor</span><span class="token punctuation">.</span>RED<span class="token operator">+</span><span class="token string">&quot;你再猜猜我是什么效果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>以后推荐您用<code>getLogger().info</code>方法代替<code>System.out.println(也就是sout、sysout方法)</code>!</p> <p>在实际应用的时候, 还要小心<code>args.length</code>! 玩家只输入<code>/rua</code>没有参数的时候, 小心因为自己的疏忽造成<code>ArrayIndexOutOfBoundsException</code>!</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/BukkitDevelopmentNote/unit/2-3.html" class="prev">
        配置API
      </a></span> <span class="next"><a href="/BukkitDevelopmentNote/unit/3-2.html">
        自定义事件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/BukkitDevelopmentNote/assets/js/app.2634dd99.js" defer></script><script src="/BukkitDevelopmentNote/assets/js/2.cc6e75aa.js" defer></script><script src="/BukkitDevelopmentNote/assets/js/17.ece6e639.js" defer></script>
  </body>
</html>
